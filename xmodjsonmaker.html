<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Item JSON Generator v6 - EvanBlokEnder</title>
  <style>
    /* Styles for container and sections */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .container {
      padding: 20px;
      width: 80%;
      margin: 0 auto;
    }

    .section {
      margin-bottom: 20px;
    }

    h1 {
      text-align: center;
    }

    label {
      display: block;
      margin-bottom: 5px;
    }

    input[type="text"],
    input[type="number"],
    input[type="range"],
    select {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      font-size: 16px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
    }

    .credit {
      text-align: center;
      font-size: 12px;
    }

    .mode-toggle {
      margin-top: 20px;
      text-align: center;
    }

    /* Dark Mode Styles */
    body.dark-mode {
      background-color: #121212;
      color: #ffffff;
    }

    body.dark-mode .section {
      background-color: #333;
      border-radius: 4px;
    }

    body.dark-mode input,
    body.dark-mode select,
    body.dark-mode button {
      background-color: #444;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Item JSON Generator v6</h1>

    <div class="section">
      <label for="bagSelect">Select Backpack:</label>
      <select id="bagSelect"></select>
    </div>

    <div class="section">
      <label for="itemSearch">Search Item:</label>
      <input type="text" id="itemSearch" placeholder="Search item..." />
    </div>

    <div class="section">
      <label for="itemSelect">Select Item:</label>
      <select id="itemSelect" size="10"></select>
    </div>

    <div class="section">
      <label for="hue">Hue (0–210):</label>
      <input type="range" id="hue" min="0" max="210" value="161" />
      <label><input type="checkbox" id="randomHue" /> Random</label>
    </div>

    <div class="section">
      <label for="sat">Saturation (0–120):</label>
      <input type="range" id="sat" min="0" max="120" value="120" />
      <label><input type="checkbox" id="randomSat" /> Random</label>
    </div>

    <div class="section">
      <label for="size">Size (-128 to 127):</label>
      <input type="range" id="size" min="-128" max="127" value="0" />
      <label><input type="checkbox" id="randomSize" /> Random</label>
    </div>

    <div class="section">
      <label for="state">Shredder State (Max 8000):</label>
      <input type="number" id="state" min="0" max="8000" value="0" />
      <p style="color:red; font-weight:bold;">ONLY WORKS WITH SHREDDER</p>
    </div>

    <div class="section">
      <label for="count">Count:</label>
      <input type="number" id="count" min="1" value="1" />
    </div>

    <div class="section">
      <button onclick="addItem()">Add Item</button>
      <button onclick="generateJSON()">Generate JSON</button>
      <button onclick="resetAll()">Reset</button>
    </div>

    <ul id="itemList" class="section"></ul>

    <p class="credit">Made by EvanBlokEnder</p>

    <div class="mode-toggle">
      <label for="modeToggle">
        <input type="checkbox" id="modeToggle" onchange="toggleDarkMode()" />
        Dark Mode
      </label>
    </div>
  </div>

  <script>
    // Dark mode toggle function
    function toggleDarkMode() {
      const body = document.body;
      body.classList.toggle('dark-mode');
    }

    // Load options from list.txt hosted on GitHub and populate the select elements
    function loadOptions() {
      fetch('https://raw.githubusercontent.com/woostergames/woostergames.github.io/refs/heads/main/list.txt')
        .then(response => response.text())
        .then(data => {
          // Assuming list.txt contains backpacks on one line and items on another
          const lines = data.split('\n'); // Split by newline
          const backpacks = lines[0].split(',');  // Assuming backpacks are comma-separated
          const items = lines[1].split(',');  // Assuming items are comma-separated

          // Populate Backpack select
          const bagSelect = document.getElementById('bagSelect');
          backpacks.forEach(backpack => {
            const option = document.createElement('option');
            option.value = backpack.trim();
            option.textContent = backpack.trim();
            bagSelect.appendChild(option);
          });

          // Populate Item select
          const itemSelect = document.getElementById('itemSelect');
          items.forEach(item => {
            const option = document.createElement('option');
            option.value = item.trim();
            option.textContent = item.trim();
            itemSelect.appendChild(option);
          });
        })
        .catch(error => console.error('Error loading list.txt:', error));
    }

    // Call loadOptions when the page loads
    window.onload = loadOptions;

  </script>
</body>
</html>
